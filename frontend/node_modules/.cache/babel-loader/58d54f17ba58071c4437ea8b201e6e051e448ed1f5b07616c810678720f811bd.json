{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import{useAuthStore}from'./stores/authStore';import Navbar from'./components/layout/Navbar';import Footer from'./components/layout/Footer';import LoadingSpinner from'./components/ui/LoadingSpinner';// Pages\nimport HomePage from'./pages/HomePage';import ProductsPage from'./pages/ProductsPage';import ProductDetailPage from'./pages/ProductDetailPage';import CartPage from'./pages/CartPage';import CheckoutPage from'./pages/CheckoutPage';import OrdersPage from'./pages/OrdersPage';import LoginPage from'./pages/auth/LoginPage';import RegisterPage from'./pages/auth/RegisterPage';import ProfilePage from'./pages/ProfilePage';import AdminDashboard from'./pages/admin/AdminDashboard';import AdminProducts from'./pages/admin/AdminProducts';import AdminOrders from'./pages/admin/AdminOrders';import AdminAnalytics from'./pages/admin/AdminAnalytics';import AdminAgents from'./pages/admin/AdminAgents';// Protected Route Component\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,adminOnly=false}=_ref;const{user,isLoading}=useAuthStore();if(isLoading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}if(!user){return/*#__PURE__*/_jsx(LoginPage,{});}if(adminOnly&&!user.is_admin){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-4\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"You don't have permission to access this page.\"})]})});}return/*#__PURE__*/_jsx(_Fragment,{children:children});};const App=()=>{const{initializeAuth,isLoading}=useAuthStore();React.useEffect(()=>{initializeAuth();},[initializeAuth]);if(isLoading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 flex flex-col\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/products\",element:/*#__PURE__*/_jsx(ProductsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/products/:id\",element:/*#__PURE__*/_jsx(ProductDetailPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CartPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CheckoutPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/orders\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(OrdersPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ProfilePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedRoute,{adminOnly:true,children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/products\",element:/*#__PURE__*/_jsx(ProtectedRoute,{adminOnly:true,children:/*#__PURE__*/_jsx(AdminProducts,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/orders\",element:/*#__PURE__*/_jsx(ProtectedRoute,{adminOnly:true,children:/*#__PURE__*/_jsx(AdminOrders,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/analytics\",element:/*#__PURE__*/_jsx(ProtectedRoute,{adminOnly:true,children:/*#__PURE__*/_jsx(AdminAnalytics,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/agents\",element:/*#__PURE__*/_jsx(ProtectedRoute,{adminOnly:true,children:/*#__PURE__*/_jsx(AdminAgents,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-4\",children:\"404\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-8\",children:\"Page not found\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"btn-primary\",children:\"Go Home\"})]})})})]})}),/*#__PURE__*/_jsx(Footer,{})]})});};export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","useAuthStore","Navbar","Footer","LoadingSpinner","HomePage","ProductsPage","ProductDetailPage","CartPage","CheckoutPage","OrdersPage","LoginPage","RegisterPage","ProfilePage","AdminDashboard","AdminProducts","AdminOrders","AdminAnalytics","AdminAgents","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProtectedRoute","_ref","children","adminOnly","user","isLoading","is_admin","className","App","initializeAuth","useEffect","path","element","href"],"sources":["/Users/billscolinos/Documents/companyOS/frontend/src/App.tsx"],"sourcesContent":["import React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport { useAuthStore } from './stores/authStore';\r\nimport Navbar from './components/layout/Navbar';\r\nimport Footer from './components/layout/Footer';\r\nimport LoadingSpinner from './components/ui/LoadingSpinner';\r\n\r\n// Pages\r\nimport HomePage from './pages/HomePage';\r\nimport ProductsPage from './pages/ProductsPage';\r\nimport ProductDetailPage from './pages/ProductDetailPage';\r\nimport CartPage from './pages/CartPage';\r\nimport CheckoutPage from './pages/CheckoutPage';\r\nimport OrdersPage from './pages/OrdersPage';\r\nimport LoginPage from './pages/auth/LoginPage';\r\nimport RegisterPage from './pages/auth/RegisterPage';\r\nimport ProfilePage from './pages/ProfilePage';\r\nimport AdminDashboard from './pages/admin/AdminDashboard';\r\nimport AdminProducts from './pages/admin/AdminProducts';\r\nimport AdminOrders from './pages/admin/AdminOrders';\r\nimport AdminAnalytics from './pages/admin/AdminAnalytics';\r\nimport AdminAgents from './pages/admin/AdminAgents';\r\n\r\n// Protected Route Component\r\nconst ProtectedRoute: React.FC<{ children: React.ReactNode; adminOnly?: boolean }> = ({ \r\n  children, \r\n  adminOnly = false \r\n}) => {\r\n  const { user, isLoading } = useAuthStore();\r\n\r\n  if (isLoading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  if (!user) {\r\n    return <LoginPage />;\r\n  }\r\n\r\n  if (adminOnly && !user.is_admin) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Access Denied</h1>\r\n          <p className=\"text-gray-600\">You don't have permission to access this page.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n};\r\n\r\nconst App: React.FC = () => {\r\n  const { initializeAuth, isLoading } = useAuthStore();\r\n\r\n  React.useEffect(() => {\r\n    initializeAuth();\r\n  }, [initializeAuth]);\r\n\r\n  if (isLoading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"min-h-screen bg-gray-50 flex flex-col\">\r\n        <Navbar />\r\n        \r\n        <main className=\"flex-1\">\r\n          <Routes>\r\n            {/* Public Routes */}\r\n            <Route path=\"/\" element={<HomePage />} />\r\n            <Route path=\"/products\" element={<ProductsPage />} />\r\n            <Route path=\"/products/:id\" element={<ProductDetailPage />} />\r\n            <Route path=\"/login\" element={<LoginPage />} />\r\n            <Route path=\"/register\" element={<RegisterPage />} />\r\n            \r\n            {/* Protected Routes */}\r\n            <Route \r\n              path=\"/cart\" \r\n              element={\r\n                <ProtectedRoute>\r\n                  <CartPage />\r\n                </ProtectedRoute>\r\n              } \r\n            />\r\n            <Route \r\n              path=\"/checkout\" \r\n              element={\r\n                <ProtectedRoute>\r\n                  <CheckoutPage />\r\n                </ProtectedRoute>\r\n              } \r\n            />\r\n            <Route \r\n              path=\"/orders\" \r\n              element={\r\n                <ProtectedRoute>\r\n                  <OrdersPage />\r\n                </ProtectedRoute>\r\n              } \r\n            />\r\n            <Route \r\n              path=\"/profile\" \r\n              element={\r\n                <ProtectedRoute>\r\n                  <ProfilePage />\r\n                </ProtectedRoute>\r\n              } \r\n            />\r\n            \r\n            {/* Admin Routes */}\r\n            <Route \r\n              path=\"/admin\" \r\n              element={\r\n                <ProtectedRoute adminOnly>\r\n                  <AdminDashboard />\r\n                </ProtectedRoute>\r\n              } \r\n            />\r\n            <Route \r\n              path=\"/admin/products\" \r\n              element={\r\n                <ProtectedRoute adminOnly>\r\n                  <AdminProducts />\r\n                </ProtectedRoute>\r\n              } \r\n            />\r\n            <Route \r\n              path=\"/admin/orders\" \r\n              element={\r\n                <ProtectedRoute adminOnly>\r\n                  <AdminOrders />\r\n                </ProtectedRoute>\r\n              } \r\n            />\r\n            <Route \r\n              path=\"/admin/analytics\" \r\n              element={\r\n                <ProtectedRoute adminOnly>\r\n                  <AdminAnalytics />\r\n                </ProtectedRoute>\r\n              } \r\n            />\r\n            <Route \r\n              path=\"/admin/agents\" \r\n              element={\r\n                <ProtectedRoute adminOnly>\r\n                  <AdminAgents />\r\n                </ProtectedRoute>\r\n              } \r\n            />\r\n            \r\n            {/* 404 Page */}\r\n            <Route \r\n              path=\"*\" \r\n              element={\r\n                <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n                  <div className=\"text-center\">\r\n                    <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">404</h1>\r\n                    <p className=\"text-gray-600 mb-8\">Page not found</p>\r\n                    <a \r\n                      href=\"/\" \r\n                      className=\"btn-primary\"\r\n                    >\r\n                      Go Home\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              } \r\n            />\r\n          </Routes>\r\n        </main>\r\n        \r\n        <Footer />\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}