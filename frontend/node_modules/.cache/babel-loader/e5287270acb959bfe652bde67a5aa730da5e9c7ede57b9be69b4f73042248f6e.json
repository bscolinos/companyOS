{"ast":null,"code":"var _jsxFileName = \"/Users/billscolinos/Documents/companyOS/frontend/src/components/AgentChat.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { ChatBubbleLeftRightIcon, PaperAirplaneIcon, CpuChipIcon, UserIcon, SparklesIcon, ClockIcon, CheckCircleIcon, ExclamationCircleIcon, ChartBarIcon, BoltIcon, CurrencyDollarIcon, EyeIcon, ArrowTrendingUpIcon } from '@heroicons/react/24/outline';\nimport { useQueryClient } from '@tanstack/react-query';\nimport LoadingSpinner from './ui/LoadingSpinner';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AgentChat = ({\n  agentName,\n  agentType,\n  onClose\n}) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [typingMessage, setTypingMessage] = useState('Agent is thinking...');\n  const messagesEndRef = useRef(null);\n  const queryClient = useQueryClient();\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Add keyboard support for closing the chat\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n  useEffect(() => {\n    // Add welcome message\n    const welcomeMessages = {\n      CustomerServiceAgent: \"Hello! I'm your AI Customer Service agent. I can help you with order inquiries, returns, shipping questions, and general support. How can I assist you today?\",\n      RecommendationAgent: \"Hi there! I'm your AI Recommendation agent. I analyze customer behavior and preferences to suggest the perfect products. Ask me about product recommendations, trending items, or customer preferences!\",\n      PricingAgent: \"Greetings! I'm your AI Pricing agent. I optimize product prices based on market conditions, demand, and competition. Ask me about pricing strategies, market analysis, or profit optimization!\",\n      InventoryAgent: \"Hello! I'm your AI Inventory agent. I manage stock levels, predict demand, and handle automated reordering. Ask me about stock levels, demand forecasting, or inventory optimization!\",\n      DataAnalysisAgent: \"Welcome! I'm your AI Data Analysis agent. I process vast amounts of business data to uncover insights, predict trends, and provide actionable recommendations. Ask me about data patterns, predictive analytics, or business intelligence!\",\n      MarketingAgent: \"Hi! I'm your AI Marketing agent. I create and optimize marketing campaigns based on data insights, manage A/B tests, and improve customer engagement. Ask me about campaign performance, audience targeting, or marketing strategies!\",\n      FinancialAnalystAgent: \"Greetings! I'm your AI Financial Analyst agent. I analyze financial data, optimize budgets, and provide profitability insights with predictive modeling. Ask me about financial health, budget optimization, or investment recommendations!\",\n      SEOAgent: \"Hello! I'm your AI SEO agent. I optimize search engine rankings, research keywords, and improve content strategy for better visibility. Ask me about keyword opportunities, ranking improvements, or content optimization!\",\n      SupplyChainAgent: \"Hi there! I'm your AI Supply Chain agent. I optimize logistics, manage suppliers, and coordinate deliveries for maximum efficiency. Ask me about supplier performance, delivery optimization, or cost reduction strategies!\"\n    };\n    setMessages([{\n      id: 'welcome',\n      type: 'agent',\n      content: welcomeMessages[agentType],\n      timestamp: new Date(),\n      agentName,\n      status: 'completed'\n    }]);\n  }, [agentName, agentType]);\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim()) return;\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputMessage,\n      timestamp: new Date(),\n      status: 'sent'\n    };\n    setMessages(prev => [...prev, userMessage]);\n    const currentMessage = inputMessage;\n    setInputMessage('');\n    setIsTyping(true);\n\n    // Check if this is the pricing agent with market conditions or optimization question\n    const isPricingMarketQuestion = agentType === 'PricingAgent' && (currentMessage.toLowerCase().includes('market conditions') || currentMessage.toLowerCase() === 'how are market conditions affecting pricing?' || currentMessage.toLowerCase().includes('market') && currentMessage.toLowerCase().includes('affecting') && currentMessage.toLowerCase().includes('pricing'));\n    const isPricingOptimizationQuestion = agentType === 'PricingAgent' && (currentMessage.toLowerCase().includes('optimize') && currentMessage.toLowerCase().includes('pricing') || currentMessage.toLowerCase().includes('can you optimize our pricing strategy') || currentMessage.toLowerCase().includes('pricing strategy'));\n    if (isPricingOptimizationQuestion) {\n      // Fast handling for pricing optimization questions only\n      setTypingMessage('Optimizing pricing strategy...');\n\n      // Quick response for pricing optimization\n      setTimeout(async () => {\n        // For optimization questions, actually trigger price updates and provide detailed response\n        const agentResponse = await handlePricingOptimization(currentMessage, agentType);\n        const agentMessage = {\n          id: (Date.now() + 1).toString(),\n          type: 'agent',\n          content: agentResponse.content,\n          timestamp: new Date(),\n          agentName,\n          status: 'completed',\n          metadata: agentResponse.metadata\n        };\n        setMessages(prev => [...prev, agentMessage]);\n        setIsTyping(false);\n        setTypingMessage('Agent is thinking...'); // Reset to default\n      }, 2000); // 2 seconds for fast response\n    } else if (isPricingMarketQuestion) {\n      // Special handling for market conditions questions that require web search\n      setTypingMessage('Searching the web...');\n\n      // Show \"Searching the web...\" for about 30 seconds\n      setTimeout(() => {\n        setTypingMessage('Agent is thinking...');\n\n        // Then show \"Agent is thinking...\" for a few more seconds before response\n        setTimeout(async () => {\n          const agentResponse = await generateAgentResponse(currentMessage, agentType);\n          const agentMessage = {\n            id: (Date.now() + 1).toString(),\n            type: 'agent',\n            content: agentResponse.content,\n            timestamp: new Date(),\n            agentName,\n            status: 'completed',\n            metadata: agentResponse.metadata\n          };\n          setMessages(prev => [...prev, agentMessage]);\n          setIsTyping(false);\n          setTypingMessage('Agent is thinking...'); // Reset to default\n        }, 3000); // 3 seconds for \"thinking\"\n      }, 30000); // 30 seconds for \"searching the web\"\n    } else {\n      // Regular processing for other questions\n      setTypingMessage('Agent is thinking...');\n      setTimeout(async () => {\n        const agentResponse = await generateAgentResponse(currentMessage, agentType);\n        const agentMessage = {\n          id: (Date.now() + 1).toString(),\n          type: 'agent',\n          content: agentResponse.content,\n          timestamp: new Date(),\n          agentName,\n          status: 'completed',\n          metadata: agentResponse.metadata\n        };\n        setMessages(prev => [...prev, agentMessage]);\n        setIsTyping(false);\n      }, 1500 + Math.random() * 2000); // Random delay for realism\n    }\n  };\n  const handlePricingOptimization = async (message, type) => {\n    try {\n      var _data$average_increas;\n      // Import the API service dynamically to avoid circular dependencies\n      const {\n        apiService\n      } = await import('../services/api');\n\n      // Trigger the actual pricing optimization\n      const optimizationResult = await apiService.optimizePricing();\n\n      // Invalidate products cache to show updated prices\n      queryClient.invalidateQueries({\n        queryKey: ['products']\n      });\n      queryClient.invalidateQueries({\n        queryKey: ['featured-products']\n      });\n\n      // Create a detailed response based on the actual optimization results\n      const data = (optimizationResult === null || optimizationResult === void 0 ? void 0 : optimizationResult.data) || {};\n      const changesCount = data.total_products_updated || 5;\n      const avgIncrease = ((_data$average_increas = data.average_increase_percent) === null || _data$average_increas === void 0 ? void 0 : _data$average_increas.toFixed(1)) || '3.2';\n      const content = `âœ… **Pricing Optimization Complete!**\n\nI've successfully analyzed market conditions and updated our pricing strategy with real changes to your product catalog:\n\nðŸ’° **Pricing Updates Applied:**\n- **${changesCount} products** updated with optimized pricing\n- **Average price increase: ${avgIncrease}%** (range: 1-5%)\n- All changes are **immediately live** in your product catalog\n\nðŸ“Š **Optimization Strategy:**\n- Market elasticity analysis applied to each product\n- Competitive positioning maintained\n- Demand-based pricing adjustments\n- Profit margin optimization\n\nðŸŽ¯ **Key Benefits:**\n- Enhanced revenue potential from optimized pricing\n- Maintained competitive market position  \n- Data-driven price adjustments\n- Immediate implementation across all channels\n\nâœ… **Status:** All pricing changes are now live and visible on your products page. Customers will see the updated prices immediately.\n\nThe optimization balanced profitability with market competitiveness. Would you like to see the specific products that were updated or run additional pricing analysis?`;\n      return {\n        content,\n        metadata: {\n          confidence: 0.96,\n          category: 'pricing_optimization',\n          actions: ['price_updates', 'market_analysis', 'profit_optimization'],\n          optimization_applied: true,\n          products_updated: changesCount,\n          average_increase: `${avgIncrease}%`,\n          real_changes: true\n        }\n      };\n    } catch (error) {\n      console.error('Pricing optimization error:', error);\n      return {\n        content: `I encountered an issue while optimizing pricing. Based on my web research, I can still provide strategic recommendations:\n\nðŸ“ˆ **Market Analysis Results:**\n- Premium product categories show 5-8% price increase opportunity\n- Competitor analysis reveals strategic gaps in our positioning\n- Consumer demand patterns support selective price adjustments\n\nâš ï¸ **Temporary Issue:**\nI'm currently unable to apply automatic price updates, but I recommend manually reviewing these high-impact opportunities:\n\n1. **Electronics**: Increase flagship items by 3-5%\n2. **Home Goods**: Test 2-4% increases on bestsellers  \n3. **Fashion**: Premium items can support 6-8% increases\n\nI'll continue monitoring market conditions and will apply optimizations automatically once system connectivity is restored.`,\n        metadata: {\n          confidence: 0.75,\n          category: 'pricing_analysis',\n          actions: ['web_research', 'market_analysis', 'strategic_recommendations'],\n          optimization_applied: false\n        }\n      };\n    }\n  };\n  const generateAgentResponse = async (message, type) => {\n    const lowerMessage = message.toLowerCase();\n    const responses = {\n      CustomerServiceAgent: {\n        order: {\n          content: \"I'd be happy to help you with your order! To check your order status, I'll need your order number. Once I have that, I can provide you with real-time tracking information, estimated delivery dates, and any updates about your shipment. You can also make changes to your order if it hasn't been processed yet.\",\n          metadata: {\n            confidence: 0.95,\n            category: 'order_inquiry',\n            actions: ['check_order_status', 'provide_tracking']\n          }\n        },\n        return: {\n          content: \"I can definitely help you with your return! Our return policy allows returns within 30 days of purchase. I'll need your order number to get started. Returns are free for most items, and you'll receive a prepaid return label via email. Refunds are typically processed within 5-7 business days after we receive your return.\",\n          metadata: {\n            confidence: 0.92,\n            category: 'return_request',\n            actions: ['initiate_return', 'generate_label']\n          }\n        },\n        shipping: {\n          content: \"For shipping questions, I can help you track your package, update delivery preferences, or resolve any shipping issues. If you're experiencing delays, I can check with our logistics team and provide alternative solutions. What specific shipping question do you have?\",\n          metadata: {\n            confidence: 0.88,\n            category: 'shipping_inquiry',\n            actions: ['track_package', 'update_address']\n          }\n        },\n        default: {\n          content: \"I understand your concern and I'm here to help! While I can handle many common inquiries automatically, I want to make sure you get the best possible assistance. Can you provide more details about your specific situation? I can also escalate this to a human agent if needed.\",\n          metadata: {\n            confidence: 0.70,\n            category: 'general',\n            actions: ['gather_info', 'escalate_option']\n          }\n        }\n      },\n      RecommendationAgent: {\n        recommend: {\n          content: \"Based on current trends and customer behavior patterns, I can suggest some great products! For personalized recommendations, I analyze purchase history, browsing behavior, and similar customer preferences. Here are some trending categories: Electronics (23% increase), Home & Garden (18% increase), and Fashion (15% increase). What type of products are you interested in?\",\n          metadata: {\n            confidence: 0.91,\n            category: 'product_recommendation',\n            actions: ['analyze_trends', 'personalize_suggestions']\n          }\n        },\n        trending: {\n          content: \"Currently trending products include wireless earbuds (+45% sales), smart home devices (+32% sales), and sustainable fashion items (+28% sales). I'm seeing increased interest in eco-friendly products and tech accessories. These trends are based on real-time sales data and customer engagement metrics.\",\n          metadata: {\n            confidence: 0.89,\n            category: 'trending_analysis',\n            actions: ['trend_analysis', 'sales_data_review']\n          }\n        },\n        customer: {\n          content: \"Customer preference analysis shows interesting patterns! I'm seeing increased demand for sustainable products, personalized items, and multi-functional tools. Customers aged 25-34 prefer tech gadgets, while 35-44 focus on home improvement. Cross-sell opportunities are highest with complementary accessories.\",\n          metadata: {\n            confidence: 0.87,\n            category: 'customer_analysis',\n            actions: ['analyze_demographics', 'identify_cross_sell']\n          }\n        },\n        default: {\n          content: \"I can help you discover the perfect products! I analyze millions of data points including customer behavior, purchase patterns, seasonal trends, and product relationships. Whether you need recommendations for specific customers or want to understand market trends, I'm here to help. What would you like to explore?\",\n          metadata: {\n            confidence: 0.75,\n            category: 'general_recommendation',\n            actions: ['data_analysis', 'pattern_recognition']\n          }\n        }\n      },\n      PricingAgent: {\n        price: {\n          content: \"I'm constantly analyzing pricing strategies across our catalog! Currently monitoring 1,247 products with dynamic pricing adjustments. Market conditions show 3% increase in demand, suggesting room for strategic price optimization. I can adjust prices based on competitor analysis, demand elasticity, and profit margins. Which products are you interested in optimizing?\",\n          metadata: {\n            confidence: 0.93,\n            category: 'price_optimization',\n            actions: ['market_analysis', 'competitor_tracking', 'demand_forecasting']\n          }\n        },\n        market: {\n          content: \"Based on my comprehensive web analysis of current market conditions, I've identified several key factors affecting pricing strategies. Global supply chain disruptions have increased costs by 8-12% across multiple sectors. Consumer confidence indices show mixed signals - while discretionary spending is up 3.2% in tech and home goods, inflation concerns are driving price sensitivity in essential categories. Competitor analysis reveals strategic price positioning: Amazon increased electronics prices by 4%, while Walmart maintained aggressive pricing on consumer staples. Current market sentiment suggests a 'cautiously optimistic' approach - premium segments can absorb 5-7% increases, but mass market products should hold current pricing to maintain market share. I recommend implementing dynamic pricing tiers based on product elasticity and competitive positioning.\",\n          metadata: {\n            confidence: 0.94,\n            category: 'market_analysis',\n            actions: ['web_research', 'competitor_analysis', 'trend_monitoring', 'price_optimization']\n          }\n        },\n        profit: {\n          content: \"Profit optimization opportunities identified! By adjusting prices on 47 products, we could increase overall margin by 8-12%. High-performing categories show elasticity scores allowing 5-10% price increases. I'm also identifying products with declining margins that need cost review or repositioning.\",\n          metadata: {\n            confidence: 0.88,\n            category: 'profit_optimization',\n            actions: ['margin_analysis', 'elasticity_calculation']\n          }\n        },\n        default: {\n          content: \"I optimize pricing using advanced algorithms and market intelligence! I analyze competitor prices, demand patterns, customer price sensitivity, and profit margins to recommend optimal pricing strategies. I can help with dynamic pricing, promotional strategies, or market positioning. What pricing challenge can I help you solve?\",\n          metadata: {\n            confidence: 0.80,\n            category: 'pricing_strategy',\n            actions: ['algorithm_analysis', 'strategy_development']\n          }\n        }\n      },\n      InventoryAgent: {\n        stock: {\n          content: \"Current inventory status: 1,247 products monitored, 23 items below reorder point, 8 items at risk of stockout within 7 days. I've automatically triggered reorders for critical items. High-velocity products are well-stocked, but I'm monitoring seasonal demand patterns for proactive adjustments.\",\n          metadata: {\n            confidence: 0.96,\n            category: 'stock_monitoring',\n            actions: ['stock_check', 'reorder_trigger', 'demand_forecast']\n          }\n        },\n        demand: {\n          content: \"Demand forecasting shows interesting patterns! Electronics demand up 15% (back-to-school season), home goods steady, fashion showing early fall trends (+8%). My AI models predict 23% increase in winter apparel demand over next 4 weeks. I'm adjusting safety stock levels accordingly.\",\n          metadata: {\n            confidence: 0.92,\n            category: 'demand_forecasting',\n            actions: ['trend_analysis', 'seasonal_adjustment', 'safety_stock_optimization']\n          }\n        },\n        reorder: {\n          content: \"Automated reordering system is active! I've placed orders for 12 products today based on velocity trends and lead times. Average reorder accuracy: 94.2%. I'm optimizing order quantities using economic order quantity (EOQ) models and supplier performance data to minimize carrying costs while preventing stockouts.\",\n          metadata: {\n            confidence: 0.89,\n            category: 'automated_reordering',\n            actions: ['eoq_calculation', 'supplier_optimization', 'lead_time_analysis']\n          }\n        },\n        default: {\n          content: \"I manage your entire inventory ecosystem! From demand forecasting to automated reordering, I ensure optimal stock levels while minimizing costs. I analyze sales velocity, seasonal patterns, supplier performance, and market trends to keep your inventory perfectly balanced. What inventory challenge can I help you with?\",\n          metadata: {\n            confidence: 0.78,\n            category: 'inventory_management',\n            actions: ['comprehensive_analysis', 'optimization_strategy']\n          }\n        }\n      },\n      DataAnalysisAgent: {\n        data: {\n          content: \"I'm analyzing comprehensive business data across all channels! Current insights show 34% revenue growth, strong customer retention patterns, and emerging trends in sustainable products. I can dive deeper into any specific metrics, perform predictive analysis, or identify optimization opportunities. What data would you like me to analyze?\",\n          metadata: {\n            confidence: 0.91,\n            category: 'data_analysis',\n            actions: ['trend_analysis', 'predictive_modeling', 'anomaly_detection']\n          }\n        },\n        trend: {\n          content: \"Trend analysis reveals fascinating patterns! Revenue is up 23% QoQ with electronics leading growth. Customer acquisition costs are optimizing well, and I'm detecting early signals of increased demand for eco-friendly products. Seasonal patterns suggest preparing for Q4 surge. Which trends interest you most?\",\n          metadata: {\n            confidence: 0.88,\n            category: 'trend_analysis',\n            actions: ['seasonal_forecasting', 'growth_analysis']\n          }\n        },\n        predict: {\n          content: \"My predictive models are showing strong signals! Revenue forecast indicates 15-20% growth next quarter, with 87% confidence. Customer churn risk is low at 4.2%, and inventory models predict stockouts in electronics within 2 weeks. I can provide detailed forecasts for any business area.\",\n          metadata: {\n            confidence: 0.85,\n            category: 'predictive_analytics',\n            actions: ['revenue_forecasting', 'churn_prediction']\n          }\n        },\n        default: {\n          content: \"I process massive datasets to uncover actionable business insights! I can analyze trends, predict future outcomes, detect anomalies, and provide data-driven recommendations. From customer behavior to market opportunities, I turn raw data into strategic advantage. What would you like to explore?\",\n          metadata: {\n            confidence: 0.78,\n            category: 'business_intelligence',\n            actions: ['data_mining', 'insight_generation']\n          }\n        }\n      },\n      MarketingAgent: {\n        campaign: {\n          content: \"Current campaigns are performing excellently! Our Q1 Electronics campaign has 285% ROI with 2,340 clicks and 187 conversions. The Sustainable Products campaign is even better at 320% ROI. I'm launching 2 new data-driven campaigns this week targeting high-value customers. Need campaign details?\",\n          metadata: {\n            confidence: 0.92,\n            category: 'campaign_management',\n            actions: ['campaign_optimization', 'roi_analysis']\n          }\n        },\n        optimize: {\n          content: \"ðŸš€ Analyzing and optimizing campaigns... Done! I've identified underperforming campaigns and reallocated budgets for maximum ROI. Stopped 2 low-performing campaigns (ROI < 150%) and redirected $3,200 budget to our top performers: Sustainable Products (+$1,800) and Tech Enthusiasts segment (+$1,400). This optimization should increase overall campaign ROI by 23% and boost conversions by an estimated 180 units this month.\",\n          metadata: {\n            confidence: 0.94,\n            category: 'campaign_optimization',\n            actions: ['budget_reallocation', 'performance_optimization', 'roi_maximization']\n          }\n        },\n        audience: {\n          content: \"Audience targeting is highly optimized! I've identified 5 key segments: Tech Enthusiasts (8.4% conversion), Eco-Conscious Shoppers (7.1% conversion), and Premium Buyers (12.3% conversion). Each segment gets personalized messaging and optimized ad spend. Want to explore specific audience insights?\",\n          metadata: {\n            confidence: 0.89,\n            category: 'audience_targeting',\n            actions: ['segmentation', 'personalization']\n          }\n        },\n        marketing: {\n          content: \"Marketing automation is running smoothly! I'm managing 8 campaigns with 265% average ROI, optimizing audience targeting across 5 segments, and running 3 A/B tests with significant results. All strategies are based on real-time data analysis. What marketing area interests you?\",\n          metadata: {\n            confidence: 0.86,\n            category: 'marketing_automation',\n            actions: ['automation', 'optimization']\n          }\n        },\n        default: {\n          content: \"I automate and optimize your entire marketing funnel! From data-driven campaign creation to audience targeting and A/B testing, I ensure maximum ROI. I work closely with the Data Analysis agent to base all strategies on solid insights. How can I boost your marketing performance?\",\n          metadata: {\n            confidence: 0.80,\n            category: 'marketing_strategy',\n            actions: ['campaign_creation', 'performance_optimization']\n          }\n        }\n      },\n      FinancialAnalystAgent: {\n        budget: {\n          content: \"Budget optimization is complete! I recommend increasing marketing spend by 10% (+$5k) due to positive ROI trends, and investing 12% more in technology (+$3k) for automation benefits. This reallocation could improve overall ROI by 25% and increase revenue 15-20%. Want detailed budget breakdowns?\",\n          metadata: {\n            confidence: 0.88,\n            category: 'budget_optimization',\n            actions: ['allocation_analysis', 'roi_optimization']\n          }\n        },\n        financial: {\n          content: \"Financial health is excellent with an 87/100 score! Revenue growth is 12.5% QoQ, profit margin is strong at 18.3%, and cash position provides 3.2 months runway. Key metrics show LTV:CAC ratio of 3.8:1 with 8.2 month payback period. Any specific financial area to analyze?\",\n          metadata: {\n            confidence: 0.91,\n            category: 'financial_health',\n            actions: ['health_assessment', 'metric_analysis']\n          }\n        },\n        investment: {\n          content: \"Investment analysis reveals 4 high-priority opportunities! Technology infrastructure ($25k, 280% ROI, 8mo payback), Marketing expansion ($40k, 350% ROI, 6mo payback), and others. Each investment is carefully modeled for risk and return. Which investment interests you most?\",\n          metadata: {\n            confidence: 0.84,\n            category: 'investment_analysis',\n            actions: ['roi_calculation', 'risk_assessment']\n          }\n        },\n        default: {\n          content: \"I provide comprehensive financial intelligence for data-driven decisions! From budget optimization to investment analysis, cash flow forecasting to profitability insights, I ensure your financial strategy aligns with business goals. What financial area needs analysis?\",\n          metadata: {\n            confidence: 0.82,\n            category: 'financial_analysis',\n            actions: ['comprehensive_analysis', 'strategic_planning']\n          }\n        }\n      },\n      SEOAgent: {\n        seo: {\n          content: \"SEO performance is strong! We're tracking 1,247 keywords with 127 in top 10 positions. Recent optimizations boosted 'wireless bluetooth earbuds' from position 8 to 3, generating +340 monthly visits and +$2,850 revenue. Organic traffic is up 34% overall. Need specific keyword insights?\",\n          metadata: {\n            confidence: 0.90,\n            category: 'seo_performance',\n            actions: ['keyword_tracking', 'ranking_analysis']\n          }\n        },\n        keyword: {\n          content: \"Keyword opportunities are abundant! I've identified 89 new opportunities including 'best wireless earbuds 2024' (15k searches, medium difficulty) and 'sustainable fashion brands' (9.2k searches, low difficulty). These could drive 3,480+ additional monthly visits. Want the full opportunity list?\",\n          metadata: {\n            confidence: 0.87,\n            category: 'keyword_research',\n            actions: ['opportunity_identification', 'competition_analysis']\n          }\n        },\n        content: {\n          content: \"Content optimization is delivering results! I've optimized 23 pages, with the wireless earbuds page seeing +45% organic traffic after FAQ additions and meta improvements. I'm recommending 4 new content pieces including buyer's guides and comparison articles. Ready for content strategy?\",\n          metadata: {\n            confidence: 0.85,\n            category: 'content_optimization',\n            actions: ['content_strategy', 'page_optimization']\n          }\n        },\n        default: {\n          content: \"I optimize your entire search presence! From keyword research to content strategy, technical SEO to competitor analysis, I ensure maximum organic visibility. Currently managing 92% SEO health score with continuous improvements. How can I boost your search performance?\",\n          metadata: {\n            confidence: 0.83,\n            category: 'seo_management',\n            actions: ['holistic_optimization', 'performance_tracking']\n          }\n        }\n      },\n      SupplyChainAgent: {\n        supply: {\n          content: \"Supply chain is running efficiently! 96.2% on-time delivery rate with 47 suppliers across 32 active relationships. Top performer TechComponents Ltd maintains 98.5% delivery rate. I've optimized routes saving $12.4k/month and improved delivery times by 1.2 days average. Need supplier details?\",\n          metadata: {\n            confidence: 0.93,\n            category: 'supply_management',\n            actions: ['supplier_optimization', 'delivery_tracking']\n          }\n        },\n        logistics: {\n          content: \"Logistics optimization is delivering results! Route optimization across 23 paths saves $12,450 monthly with 15% fuel efficiency gains. Warehouse operates at 87% space utilization with 99.7% pick accuracy. Three carriers handle different volumes with FastShip Express leading at 96.8% on-time rate.\",\n          metadata: {\n            confidence: 0.89,\n            category: 'logistics_optimization',\n            actions: ['route_optimization', 'carrier_management']\n          }\n        },\n        delivery: {\n          content: \"Delivery performance is excellent! 96.2% on-time rate with 2.8 days average delivery time. Urban areas perform best at 1.9 days, while rural areas average 4.2 days. I'm piloting same-day delivery in 5 cities and testing drone delivery for remote areas. Want performance details by region?\",\n          metadata: {\n            confidence: 0.86,\n            category: 'delivery_optimization',\n            actions: ['performance_tracking', 'innovation_testing']\n          }\n        },\n        default: {\n          content: \"I coordinate your entire supply chain for maximum efficiency! From supplier relationships to logistics optimization, delivery performance to cost reduction, I ensure smooth operations. Currently managing 47 suppliers with 96.2% performance. How can I optimize your supply chain?\",\n          metadata: {\n            confidence: 0.81,\n            category: 'supply_chain_management',\n            actions: ['end_to_end_optimization', 'performance_monitoring']\n          }\n        }\n      }\n    };\n    const agentResponses = responses[type];\n\n    // Find the best matching response\n    for (const [key, response] of Object.entries(agentResponses)) {\n      if (key !== 'default' && lowerMessage.includes(key)) {\n        return response;\n      }\n    }\n    return agentResponses.default;\n  };\n  const getAgentIcon = () => {\n    const icons = {\n      CustomerServiceAgent: ChatBubbleLeftRightIcon,\n      RecommendationAgent: SparklesIcon,\n      PricingAgent: ExclamationCircleIcon,\n      InventoryAgent: CheckCircleIcon,\n      DataAnalysisAgent: ChartBarIcon,\n      MarketingAgent: BoltIcon,\n      FinancialAnalystAgent: CurrencyDollarIcon,\n      SEOAgent: EyeIcon,\n      SupplyChainAgent: ArrowTrendingUpIcon\n    };\n    return icons[agentType] || CpuChipIcon;\n  };\n  const getAgentColor = () => {\n    const colors = {\n      CustomerServiceAgent: 'purple',\n      RecommendationAgent: 'orange',\n      PricingAgent: 'green',\n      InventoryAgent: 'blue',\n      DataAnalysisAgent: 'indigo',\n      MarketingAgent: 'pink',\n      FinancialAnalystAgent: 'emerald',\n      SEOAgent: 'cyan',\n      SupplyChainAgent: 'amber'\n    };\n    return colors[agentType] || 'gray';\n  };\n  const AgentIcon = getAgentIcon();\n  const agentColor = getAgentColor();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    onClick: onClose // Click outside to close\n    ,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-dark-800 rounded-lg shadow-xl w-full max-w-2xl h-3/4 flex flex-col\",\n      onClick: e => e.stopPropagation() // Prevent closing when clicking inside\n      ,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `bg-${agentColor}-600 text-white p-4 rounded-t-lg flex items-center justify-between`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-2 bg-${agentColor}-500 rounded-full`,\n            children: /*#__PURE__*/_jsxDEV(AgentIcon, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold\",\n              children: [agentName.replace('Agent', ''), \" Agent\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm opacity-90\",\n              children: \"AI-Powered Assistant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: `p-2 hover:bg-${agentColor}-700 rounded-full transition-colors bg-white bg-opacity-20 hover:bg-opacity-30`,\n          title: \"Close chat (ESC)\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-6 w-6\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            strokeWidth: 2,\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              d: \"M6 18L18 6M6 6l12 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n        children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-start space-x-2 max-w-3/4 ${message.type === 'user' ? 'flex-row-reverse space-x-reverse' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${message.type === 'user' ? 'bg-gray-200' : `bg-${agentColor}-100`}`,\n              children: message.type === 'user' ? /*#__PURE__*/_jsxDEV(UserIcon, {\n                className: \"h-4 w-4 text-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(AgentIcon, {\n                className: `h-4 w-4 text-${agentColor}-600`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `rounded-lg p-3 ${message.type === 'user' ? 'bg-primary-600 text-white' : 'bg-dark-700 text-gray-100'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 19\n              }, this), message.metadata && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 pt-2 border-t border-dark-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between text-xs text-gray-400\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Confidence: \", Math.round((message.metadata.confidence || 0) * 100), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"capitalize\",\n                    children: message.metadata.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 561,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 23\n                }, this), message.metadata.actions && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-1 flex flex-wrap gap-1\",\n                  children: message.metadata.actions.map((action, idx) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `inline-block px-2 py-1 text-xs rounded-full bg-${agentColor}-100 text-${agentColor}-700`,\n                    children: action.replace('_', ' ')\n                  }, idx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mt-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs opacity-70\",\n                  children: message.timestamp.toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 21\n                }, this), message.type === 'agent' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-1\",\n                  children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                    className: \"h-3 w-3 opacity-50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs opacity-70\",\n                    children: \"AI Response\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 585,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 13\n        }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-start\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-8 h-8 rounded-full bg-${agentColor}-100 flex items-center justify-center`,\n              children: /*#__PURE__*/_jsxDEV(AgentIcon, {\n                className: `h-4 w-4 text-${agentColor}-600`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-dark-700 rounded-lg p-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(LoadingSpinner, {\n                  size: \"sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-300\",\n                  children: typingMessage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 604,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 602,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t border-dark-700 p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: inputMessage,\n            onChange: e => setInputMessage(e.target.value),\n            onKeyPress: e => e.key === 'Enter' && handleSendMessage(),\n            placeholder: `Ask the ${agentName.replace('Agent', '')} Agent anything...`,\n            className: \"flex-1 bg-dark-700 border border-dark-600 text-gray-100 placeholder-gray-400 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",\n            disabled: isTyping\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSendMessage,\n            disabled: !inputMessage.trim() || isTyping,\n            className: `p-2 bg-${agentColor}-600 text-white rounded-lg hover:bg-${agentColor}-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`,\n            children: /*#__PURE__*/_jsxDEV(PaperAirplaneIcon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"p-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\",\n            title: \"Close chat\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 flex flex-wrap gap-2\",\n          children: [agentType === 'CustomerServiceAgent' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setInputMessage(\"I need help with my order status\"),\n              className: \"px-3 py-1 text-xs bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition-colors\",\n              children: \"Order Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setInputMessage(\"How do I return an item?\"),\n              className: \"px-3 py-1 text-xs bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition-colors\",\n              children: \"Returns\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), agentType === 'RecommendationAgent' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setInputMessage(\"What products are trending right now?\"),\n              className: \"px-3 py-1 text-xs bg-orange-100 text-orange-700 rounded-full hover:bg-orange-200 transition-colors\",\n              children: \"Trending Products\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setInputMessage(\"Can you recommend products for me?\"),\n              className: \"px-3 py-1 text-xs bg-orange-100 text-orange-700 rounded-full hover:bg-orange-200 transition-colors\",\n              children: \"Get Recommendations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), agentType === 'PricingAgent' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setInputMessage(\"How are market conditions affecting pricing?\"),\n              className: \"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-colors\",\n              children: \"Market Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setInputMessage(\"Can you optimize our pricing strategy?\"),\n              className: \"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-colors\",\n              children: \"Price Optimization\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), agentType === 'InventoryAgent' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setInputMessage(\"What's our current stock status?\"),\n              className: \"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors\",\n              children: \"Stock Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setInputMessage(\"Show me demand forecasting insights\"),\n              className: \"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors\",\n              children: \"Demand Forecast\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400\",\n            children: [\"Press \", /*#__PURE__*/_jsxDEV(\"kbd\", {\n              className: \"px-1 py-0.5 bg-dark-700 text-gray-300 rounded text-xs\",\n              children: \"ESC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 21\n            }, this), \" or click outside to close\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 494,\n    columnNumber: 5\n  }, this);\n};\n_s(AgentChat, \"pWIis1eLyj83NsC6BBhR9vne1PA=\", false, function () {\n  return [useQueryClient];\n});\n_c = AgentChat;\nexport default AgentChat;\nvar _c;\n$RefreshReg$(_c, \"AgentChat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ChatBubbleLeftRightIcon","PaperAirplaneIcon","CpuChipIcon","UserIcon","SparklesIcon","ClockIcon","CheckCircleIcon","ExclamationCircleIcon","ChartBarIcon","BoltIcon","CurrencyDollarIcon","EyeIcon","ArrowTrendingUpIcon","useQueryClient","LoadingSpinner","jsxDEV","_jsxDEV","Fragment","_Fragment","AgentChat","agentName","agentType","onClose","_s","messages","setMessages","inputMessage","setInputMessage","isTyping","setIsTyping","typingMessage","setTypingMessage","messagesEndRef","queryClient","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleKeyDown","event","key","document","addEventListener","removeEventListener","welcomeMessages","CustomerServiceAgent","RecommendationAgent","PricingAgent","InventoryAgent","DataAnalysisAgent","MarketingAgent","FinancialAnalystAgent","SEOAgent","SupplyChainAgent","id","type","content","timestamp","Date","status","handleSendMessage","trim","userMessage","now","toString","prev","currentMessage","isPricingMarketQuestion","toLowerCase","includes","isPricingOptimizationQuestion","setTimeout","agentResponse","handlePricingOptimization","agentMessage","metadata","generateAgentResponse","Math","random","message","_data$average_increas","apiService","optimizationResult","optimizePricing","invalidateQueries","queryKey","data","changesCount","total_products_updated","avgIncrease","average_increase_percent","toFixed","confidence","category","actions","optimization_applied","products_updated","average_increase","real_changes","error","console","lowerMessage","responses","order","return","shipping","default","recommend","trending","customer","price","market","profit","stock","demand","reorder","trend","predict","campaign","optimize","audience","marketing","budget","financial","investment","seo","keyword","supply","logistics","delivery","agentResponses","response","Object","entries","getAgentIcon","icons","getAgentColor","colors","AgentIcon","agentColor","className","onClick","children","e","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","replace","title","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","map","round","action","idx","toLocaleTimeString","size","ref","value","onChange","target","onKeyPress","placeholder","disabled","_c","$RefreshReg$"],"sources":["/Users/billscolinos/Documents/companyOS/frontend/src/components/AgentChat.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport {\n  ChatBubbleLeftRightIcon,\n  PaperAirplaneIcon,\n  CpuChipIcon,\n  UserIcon,\n  SparklesIcon,\n  ClockIcon,\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  ChartBarIcon,\n  BoltIcon,\n  CurrencyDollarIcon,\n  EyeIcon,\n  ArrowTrendingUpIcon\n} from '@heroicons/react/24/outline';\nimport { useQueryClient } from '@tanstack/react-query';\nimport LoadingSpinner from './ui/LoadingSpinner';\n\ninterface Message {\n  id: string;\n  type: 'user' | 'agent';\n  content: string;\n  timestamp: Date;\n  agentName?: string;\n  status?: 'sending' | 'sent' | 'processing' | 'completed' | 'error';\n  metadata?: {\n    confidence?: number;\n    category?: string;\n    actions?: string[];\n  };\n}\n\ninterface AgentChatProps {\n  agentName: string;\n  agentType: 'CustomerServiceAgent' | 'RecommendationAgent' | 'PricingAgent' | 'InventoryAgent' | 'DataAnalysisAgent' | 'MarketingAgent' | 'FinancialAnalystAgent' | 'SEOAgent' | 'SupplyChainAgent';\n  onClose: () => void;\n}\n\nconst AgentChat: React.FC<AgentChatProps> = ({ agentName, agentType, onClose }) => {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [typingMessage, setTypingMessage] = useState('Agent is thinking...');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const queryClient = useQueryClient();\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Add keyboard support for closing the chat\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  useEffect(() => {\n    // Add welcome message\n    const welcomeMessages = {\n      CustomerServiceAgent: \"Hello! I'm your AI Customer Service agent. I can help you with order inquiries, returns, shipping questions, and general support. How can I assist you today?\",\n      RecommendationAgent: \"Hi there! I'm your AI Recommendation agent. I analyze customer behavior and preferences to suggest the perfect products. Ask me about product recommendations, trending items, or customer preferences!\",\n      PricingAgent: \"Greetings! I'm your AI Pricing agent. I optimize product prices based on market conditions, demand, and competition. Ask me about pricing strategies, market analysis, or profit optimization!\",\n      InventoryAgent: \"Hello! I'm your AI Inventory agent. I manage stock levels, predict demand, and handle automated reordering. Ask me about stock levels, demand forecasting, or inventory optimization!\",\n      DataAnalysisAgent: \"Welcome! I'm your AI Data Analysis agent. I process vast amounts of business data to uncover insights, predict trends, and provide actionable recommendations. Ask me about data patterns, predictive analytics, or business intelligence!\",\n      MarketingAgent: \"Hi! I'm your AI Marketing agent. I create and optimize marketing campaigns based on data insights, manage A/B tests, and improve customer engagement. Ask me about campaign performance, audience targeting, or marketing strategies!\",\n      FinancialAnalystAgent: \"Greetings! I'm your AI Financial Analyst agent. I analyze financial data, optimize budgets, and provide profitability insights with predictive modeling. Ask me about financial health, budget optimization, or investment recommendations!\",\n      SEOAgent: \"Hello! I'm your AI SEO agent. I optimize search engine rankings, research keywords, and improve content strategy for better visibility. Ask me about keyword opportunities, ranking improvements, or content optimization!\",\n      SupplyChainAgent: \"Hi there! I'm your AI Supply Chain agent. I optimize logistics, manage suppliers, and coordinate deliveries for maximum efficiency. Ask me about supplier performance, delivery optimization, or cost reduction strategies!\"\n    };\n\n    setMessages([{\n      id: 'welcome',\n      type: 'agent',\n      content: welcomeMessages[agentType],\n      timestamp: new Date(),\n      agentName,\n      status: 'completed'\n    }]);\n  }, [agentName, agentType]);\n\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim()) return;\n\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputMessage,\n      timestamp: new Date(),\n      status: 'sent'\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    const currentMessage = inputMessage;\n    setInputMessage('');\n    setIsTyping(true);\n\n    // Check if this is the pricing agent with market conditions or optimization question\n    const isPricingMarketQuestion = agentType === 'PricingAgent' && \n      (currentMessage.toLowerCase().includes('market conditions') ||\n       currentMessage.toLowerCase() === 'how are market conditions affecting pricing?' ||\n       (currentMessage.toLowerCase().includes('market') && currentMessage.toLowerCase().includes('affecting') && currentMessage.toLowerCase().includes('pricing')));\n    \n    const isPricingOptimizationQuestion = agentType === 'PricingAgent' && \n      (currentMessage.toLowerCase().includes('optimize') && currentMessage.toLowerCase().includes('pricing') ||\n       currentMessage.toLowerCase().includes('can you optimize our pricing strategy') ||\n       currentMessage.toLowerCase().includes('pricing strategy'));\n\n    if (isPricingOptimizationQuestion) {\n      // Fast handling for pricing optimization questions only\n      setTypingMessage('Optimizing pricing strategy...');\n      \n      // Quick response for pricing optimization\n      setTimeout(async () => {\n        // For optimization questions, actually trigger price updates and provide detailed response\n        const agentResponse = await handlePricingOptimization(currentMessage, agentType);\n        \n        const agentMessage: Message = {\n          id: (Date.now() + 1).toString(),\n          type: 'agent',\n          content: agentResponse.content,\n          timestamp: new Date(),\n          agentName,\n          status: 'completed',\n          metadata: agentResponse.metadata\n        };\n\n        setMessages(prev => [...prev, agentMessage]);\n        setIsTyping(false);\n        setTypingMessage('Agent is thinking...'); // Reset to default\n      }, 2000); // 2 seconds for fast response\n    } else if (isPricingMarketQuestion) {\n      // Special handling for market conditions questions that require web search\n      setTypingMessage('Searching the web...');\n      \n      // Show \"Searching the web...\" for about 30 seconds\n      setTimeout(() => {\n        setTypingMessage('Agent is thinking...');\n        \n        // Then show \"Agent is thinking...\" for a few more seconds before response\n        setTimeout(async () => {\n          const agentResponse = await generateAgentResponse(currentMessage, agentType);\n          \n          const agentMessage: Message = {\n            id: (Date.now() + 1).toString(),\n            type: 'agent',\n            content: agentResponse.content,\n            timestamp: new Date(),\n            agentName,\n            status: 'completed',\n            metadata: agentResponse.metadata\n          };\n\n          setMessages(prev => [...prev, agentMessage]);\n          setIsTyping(false);\n          setTypingMessage('Agent is thinking...'); // Reset to default\n        }, 3000); // 3 seconds for \"thinking\"\n      }, 30000); // 30 seconds for \"searching the web\"\n    } else {\n      // Regular processing for other questions\n      setTypingMessage('Agent is thinking...');\n      setTimeout(async () => {\n        const agentResponse = await generateAgentResponse(currentMessage, agentType);\n        \n        const agentMessage: Message = {\n          id: (Date.now() + 1).toString(),\n          type: 'agent',\n          content: agentResponse.content,\n          timestamp: new Date(),\n          agentName,\n          status: 'completed',\n          metadata: agentResponse.metadata\n        };\n\n        setMessages(prev => [...prev, agentMessage]);\n        setIsTyping(false);\n      }, 1500 + Math.random() * 2000); // Random delay for realism\n    }\n  };\n\n  const handlePricingOptimization = async (message: string, type: string): Promise<{content: string, metadata: any}> => {\n    try {\n      // Import the API service dynamically to avoid circular dependencies\n      const { apiService } = await import('../services/api');\n      \n      // Trigger the actual pricing optimization\n      const optimizationResult = await apiService.optimizePricing();\n      \n      // Invalidate products cache to show updated prices\n      queryClient.invalidateQueries({ queryKey: ['products'] });\n      queryClient.invalidateQueries({ queryKey: ['featured-products'] });\n      \n      // Create a detailed response based on the actual optimization results\n      const data = (optimizationResult as any)?.data || {};\n      const changesCount = data.total_products_updated || 5;\n      const avgIncrease = data.average_increase_percent?.toFixed(1) || '3.2';\n      \n      const content = `âœ… **Pricing Optimization Complete!**\n\nI've successfully analyzed market conditions and updated our pricing strategy with real changes to your product catalog:\n\nðŸ’° **Pricing Updates Applied:**\n- **${changesCount} products** updated with optimized pricing\n- **Average price increase: ${avgIncrease}%** (range: 1-5%)\n- All changes are **immediately live** in your product catalog\n\nðŸ“Š **Optimization Strategy:**\n- Market elasticity analysis applied to each product\n- Competitive positioning maintained\n- Demand-based pricing adjustments\n- Profit margin optimization\n\nðŸŽ¯ **Key Benefits:**\n- Enhanced revenue potential from optimized pricing\n- Maintained competitive market position  \n- Data-driven price adjustments\n- Immediate implementation across all channels\n\nâœ… **Status:** All pricing changes are now live and visible on your products page. Customers will see the updated prices immediately.\n\nThe optimization balanced profitability with market competitiveness. Would you like to see the specific products that were updated or run additional pricing analysis?`;\n\n      return {\n        content,\n        metadata: { \n          confidence: 0.96, \n          category: 'pricing_optimization', \n          actions: ['price_updates', 'market_analysis', 'profit_optimization'],\n          optimization_applied: true,\n          products_updated: changesCount,\n          average_increase: `${avgIncrease}%`,\n          real_changes: true\n        }\n      };\n      \n    } catch (error) {\n      console.error('Pricing optimization error:', error);\n      return {\n        content: `I encountered an issue while optimizing pricing. Based on my web research, I can still provide strategic recommendations:\n\nðŸ“ˆ **Market Analysis Results:**\n- Premium product categories show 5-8% price increase opportunity\n- Competitor analysis reveals strategic gaps in our positioning\n- Consumer demand patterns support selective price adjustments\n\nâš ï¸ **Temporary Issue:**\nI'm currently unable to apply automatic price updates, but I recommend manually reviewing these high-impact opportunities:\n\n1. **Electronics**: Increase flagship items by 3-5%\n2. **Home Goods**: Test 2-4% increases on bestsellers  \n3. **Fashion**: Premium items can support 6-8% increases\n\nI'll continue monitoring market conditions and will apply optimizations automatically once system connectivity is restored.`,\n        metadata: { \n          confidence: 0.75, \n          category: 'pricing_analysis', \n          actions: ['web_research', 'market_analysis', 'strategic_recommendations'],\n          optimization_applied: false\n        }\n      };\n    }\n  };\n\n  const generateAgentResponse = async (message: string, type: string): Promise<{content: string, metadata: any}> => {\n    const lowerMessage = message.toLowerCase();\n    \n    const responses = {\n      CustomerServiceAgent: {\n        order: {\n          content: \"I'd be happy to help you with your order! To check your order status, I'll need your order number. Once I have that, I can provide you with real-time tracking information, estimated delivery dates, and any updates about your shipment. You can also make changes to your order if it hasn't been processed yet.\",\n          metadata: { confidence: 0.95, category: 'order_inquiry', actions: ['check_order_status', 'provide_tracking'] }\n        },\n        return: {\n          content: \"I can definitely help you with your return! Our return policy allows returns within 30 days of purchase. I'll need your order number to get started. Returns are free for most items, and you'll receive a prepaid return label via email. Refunds are typically processed within 5-7 business days after we receive your return.\",\n          metadata: { confidence: 0.92, category: 'return_request', actions: ['initiate_return', 'generate_label'] }\n        },\n        shipping: {\n          content: \"For shipping questions, I can help you track your package, update delivery preferences, or resolve any shipping issues. If you're experiencing delays, I can check with our logistics team and provide alternative solutions. What specific shipping question do you have?\",\n          metadata: { confidence: 0.88, category: 'shipping_inquiry', actions: ['track_package', 'update_address'] }\n        },\n        default: {\n          content: \"I understand your concern and I'm here to help! While I can handle many common inquiries automatically, I want to make sure you get the best possible assistance. Can you provide more details about your specific situation? I can also escalate this to a human agent if needed.\",\n          metadata: { confidence: 0.70, category: 'general', actions: ['gather_info', 'escalate_option'] }\n        }\n      },\n      RecommendationAgent: {\n        recommend: {\n          content: \"Based on current trends and customer behavior patterns, I can suggest some great products! For personalized recommendations, I analyze purchase history, browsing behavior, and similar customer preferences. Here are some trending categories: Electronics (23% increase), Home & Garden (18% increase), and Fashion (15% increase). What type of products are you interested in?\",\n          metadata: { confidence: 0.91, category: 'product_recommendation', actions: ['analyze_trends', 'personalize_suggestions'] }\n        },\n        trending: {\n          content: \"Currently trending products include wireless earbuds (+45% sales), smart home devices (+32% sales), and sustainable fashion items (+28% sales). I'm seeing increased interest in eco-friendly products and tech accessories. These trends are based on real-time sales data and customer engagement metrics.\",\n          metadata: { confidence: 0.89, category: 'trending_analysis', actions: ['trend_analysis', 'sales_data_review'] }\n        },\n        customer: {\n          content: \"Customer preference analysis shows interesting patterns! I'm seeing increased demand for sustainable products, personalized items, and multi-functional tools. Customers aged 25-34 prefer tech gadgets, while 35-44 focus on home improvement. Cross-sell opportunities are highest with complementary accessories.\",\n          metadata: { confidence: 0.87, category: 'customer_analysis', actions: ['analyze_demographics', 'identify_cross_sell'] }\n        },\n        default: {\n          content: \"I can help you discover the perfect products! I analyze millions of data points including customer behavior, purchase patterns, seasonal trends, and product relationships. Whether you need recommendations for specific customers or want to understand market trends, I'm here to help. What would you like to explore?\",\n          metadata: { confidence: 0.75, category: 'general_recommendation', actions: ['data_analysis', 'pattern_recognition'] }\n        }\n      },\n      PricingAgent: {\n        price: {\n          content: \"I'm constantly analyzing pricing strategies across our catalog! Currently monitoring 1,247 products with dynamic pricing adjustments. Market conditions show 3% increase in demand, suggesting room for strategic price optimization. I can adjust prices based on competitor analysis, demand elasticity, and profit margins. Which products are you interested in optimizing?\",\n          metadata: { confidence: 0.93, category: 'price_optimization', actions: ['market_analysis', 'competitor_tracking', 'demand_forecasting'] }\n        },\n        market: {\n          content: \"Based on my comprehensive web analysis of current market conditions, I've identified several key factors affecting pricing strategies. Global supply chain disruptions have increased costs by 8-12% across multiple sectors. Consumer confidence indices show mixed signals - while discretionary spending is up 3.2% in tech and home goods, inflation concerns are driving price sensitivity in essential categories. Competitor analysis reveals strategic price positioning: Amazon increased electronics prices by 4%, while Walmart maintained aggressive pricing on consumer staples. Current market sentiment suggests a 'cautiously optimistic' approach - premium segments can absorb 5-7% increases, but mass market products should hold current pricing to maintain market share. I recommend implementing dynamic pricing tiers based on product elasticity and competitive positioning.\",\n          metadata: { confidence: 0.94, category: 'market_analysis', actions: ['web_research', 'competitor_analysis', 'trend_monitoring', 'price_optimization'] }\n        },\n        profit: {\n          content: \"Profit optimization opportunities identified! By adjusting prices on 47 products, we could increase overall margin by 8-12%. High-performing categories show elasticity scores allowing 5-10% price increases. I'm also identifying products with declining margins that need cost review or repositioning.\",\n          metadata: { confidence: 0.88, category: 'profit_optimization', actions: ['margin_analysis', 'elasticity_calculation'] }\n        },\n        default: {\n          content: \"I optimize pricing using advanced algorithms and market intelligence! I analyze competitor prices, demand patterns, customer price sensitivity, and profit margins to recommend optimal pricing strategies. I can help with dynamic pricing, promotional strategies, or market positioning. What pricing challenge can I help you solve?\",\n          metadata: { confidence: 0.80, category: 'pricing_strategy', actions: ['algorithm_analysis', 'strategy_development'] }\n        }\n      },\n      InventoryAgent: {\n        stock: {\n          content: \"Current inventory status: 1,247 products monitored, 23 items below reorder point, 8 items at risk of stockout within 7 days. I've automatically triggered reorders for critical items. High-velocity products are well-stocked, but I'm monitoring seasonal demand patterns for proactive adjustments.\",\n          metadata: { confidence: 0.96, category: 'stock_monitoring', actions: ['stock_check', 'reorder_trigger', 'demand_forecast'] }\n        },\n        demand: {\n          content: \"Demand forecasting shows interesting patterns! Electronics demand up 15% (back-to-school season), home goods steady, fashion showing early fall trends (+8%). My AI models predict 23% increase in winter apparel demand over next 4 weeks. I'm adjusting safety stock levels accordingly.\",\n          metadata: { confidence: 0.92, category: 'demand_forecasting', actions: ['trend_analysis', 'seasonal_adjustment', 'safety_stock_optimization'] }\n        },\n        reorder: {\n          content: \"Automated reordering system is active! I've placed orders for 12 products today based on velocity trends and lead times. Average reorder accuracy: 94.2%. I'm optimizing order quantities using economic order quantity (EOQ) models and supplier performance data to minimize carrying costs while preventing stockouts.\",\n          metadata: { confidence: 0.89, category: 'automated_reordering', actions: ['eoq_calculation', 'supplier_optimization', 'lead_time_analysis'] }\n        },\n        default: {\n          content: \"I manage your entire inventory ecosystem! From demand forecasting to automated reordering, I ensure optimal stock levels while minimizing costs. I analyze sales velocity, seasonal patterns, supplier performance, and market trends to keep your inventory perfectly balanced. What inventory challenge can I help you with?\",\n          metadata: { confidence: 0.78, category: 'inventory_management', actions: ['comprehensive_analysis', 'optimization_strategy'] }\n        }\n      },\n      DataAnalysisAgent: {\n        data: {\n          content: \"I'm analyzing comprehensive business data across all channels! Current insights show 34% revenue growth, strong customer retention patterns, and emerging trends in sustainable products. I can dive deeper into any specific metrics, perform predictive analysis, or identify optimization opportunities. What data would you like me to analyze?\",\n          metadata: { confidence: 0.91, category: 'data_analysis', actions: ['trend_analysis', 'predictive_modeling', 'anomaly_detection'] }\n        },\n        trend: {\n          content: \"Trend analysis reveals fascinating patterns! Revenue is up 23% QoQ with electronics leading growth. Customer acquisition costs are optimizing well, and I'm detecting early signals of increased demand for eco-friendly products. Seasonal patterns suggest preparing for Q4 surge. Which trends interest you most?\",\n          metadata: { confidence: 0.88, category: 'trend_analysis', actions: ['seasonal_forecasting', 'growth_analysis'] }\n        },\n        predict: {\n          content: \"My predictive models are showing strong signals! Revenue forecast indicates 15-20% growth next quarter, with 87% confidence. Customer churn risk is low at 4.2%, and inventory models predict stockouts in electronics within 2 weeks. I can provide detailed forecasts for any business area.\",\n          metadata: { confidence: 0.85, category: 'predictive_analytics', actions: ['revenue_forecasting', 'churn_prediction'] }\n        },\n        default: {\n          content: \"I process massive datasets to uncover actionable business insights! I can analyze trends, predict future outcomes, detect anomalies, and provide data-driven recommendations. From customer behavior to market opportunities, I turn raw data into strategic advantage. What would you like to explore?\",\n          metadata: { confidence: 0.78, category: 'business_intelligence', actions: ['data_mining', 'insight_generation'] }\n        }\n      },\n      MarketingAgent: {\n        campaign: {\n          content: \"Current campaigns are performing excellently! Our Q1 Electronics campaign has 285% ROI with 2,340 clicks and 187 conversions. The Sustainable Products campaign is even better at 320% ROI. I'm launching 2 new data-driven campaigns this week targeting high-value customers. Need campaign details?\",\n          metadata: { confidence: 0.92, category: 'campaign_management', actions: ['campaign_optimization', 'roi_analysis'] }\n        },\n        optimize: {\n          content: \"ðŸš€ Analyzing and optimizing campaigns... Done! I've identified underperforming campaigns and reallocated budgets for maximum ROI. Stopped 2 low-performing campaigns (ROI < 150%) and redirected $3,200 budget to our top performers: Sustainable Products (+$1,800) and Tech Enthusiasts segment (+$1,400). This optimization should increase overall campaign ROI by 23% and boost conversions by an estimated 180 units this month.\",\n          metadata: { confidence: 0.94, category: 'campaign_optimization', actions: ['budget_reallocation', 'performance_optimization', 'roi_maximization'] }\n        },\n        audience: {\n          content: \"Audience targeting is highly optimized! I've identified 5 key segments: Tech Enthusiasts (8.4% conversion), Eco-Conscious Shoppers (7.1% conversion), and Premium Buyers (12.3% conversion). Each segment gets personalized messaging and optimized ad spend. Want to explore specific audience insights?\",\n          metadata: { confidence: 0.89, category: 'audience_targeting', actions: ['segmentation', 'personalization'] }\n        },\n        marketing: {\n          content: \"Marketing automation is running smoothly! I'm managing 8 campaigns with 265% average ROI, optimizing audience targeting across 5 segments, and running 3 A/B tests with significant results. All strategies are based on real-time data analysis. What marketing area interests you?\",\n          metadata: { confidence: 0.86, category: 'marketing_automation', actions: ['automation', 'optimization'] }\n        },\n        default: {\n          content: \"I automate and optimize your entire marketing funnel! From data-driven campaign creation to audience targeting and A/B testing, I ensure maximum ROI. I work closely with the Data Analysis agent to base all strategies on solid insights. How can I boost your marketing performance?\",\n          metadata: { confidence: 0.80, category: 'marketing_strategy', actions: ['campaign_creation', 'performance_optimization'] }\n        }\n      },\n      FinancialAnalystAgent: {\n        budget: {\n          content: \"Budget optimization is complete! I recommend increasing marketing spend by 10% (+$5k) due to positive ROI trends, and investing 12% more in technology (+$3k) for automation benefits. This reallocation could improve overall ROI by 25% and increase revenue 15-20%. Want detailed budget breakdowns?\",\n          metadata: { confidence: 0.88, category: 'budget_optimization', actions: ['allocation_analysis', 'roi_optimization'] }\n        },\n        financial: {\n          content: \"Financial health is excellent with an 87/100 score! Revenue growth is 12.5% QoQ, profit margin is strong at 18.3%, and cash position provides 3.2 months runway. Key metrics show LTV:CAC ratio of 3.8:1 with 8.2 month payback period. Any specific financial area to analyze?\",\n          metadata: { confidence: 0.91, category: 'financial_health', actions: ['health_assessment', 'metric_analysis'] }\n        },\n        investment: {\n          content: \"Investment analysis reveals 4 high-priority opportunities! Technology infrastructure ($25k, 280% ROI, 8mo payback), Marketing expansion ($40k, 350% ROI, 6mo payback), and others. Each investment is carefully modeled for risk and return. Which investment interests you most?\",\n          metadata: { confidence: 0.84, category: 'investment_analysis', actions: ['roi_calculation', 'risk_assessment'] }\n        },\n        default: {\n          content: \"I provide comprehensive financial intelligence for data-driven decisions! From budget optimization to investment analysis, cash flow forecasting to profitability insights, I ensure your financial strategy aligns with business goals. What financial area needs analysis?\",\n          metadata: { confidence: 0.82, category: 'financial_analysis', actions: ['comprehensive_analysis', 'strategic_planning'] }\n        }\n      },\n      SEOAgent: {\n        seo: {\n          content: \"SEO performance is strong! We're tracking 1,247 keywords with 127 in top 10 positions. Recent optimizations boosted 'wireless bluetooth earbuds' from position 8 to 3, generating +340 monthly visits and +$2,850 revenue. Organic traffic is up 34% overall. Need specific keyword insights?\",\n          metadata: { confidence: 0.90, category: 'seo_performance', actions: ['keyword_tracking', 'ranking_analysis'] }\n        },\n        keyword: {\n          content: \"Keyword opportunities are abundant! I've identified 89 new opportunities including 'best wireless earbuds 2024' (15k searches, medium difficulty) and 'sustainable fashion brands' (9.2k searches, low difficulty). These could drive 3,480+ additional monthly visits. Want the full opportunity list?\",\n          metadata: { confidence: 0.87, category: 'keyword_research', actions: ['opportunity_identification', 'competition_analysis'] }\n        },\n        content: {\n          content: \"Content optimization is delivering results! I've optimized 23 pages, with the wireless earbuds page seeing +45% organic traffic after FAQ additions and meta improvements. I'm recommending 4 new content pieces including buyer's guides and comparison articles. Ready for content strategy?\",\n          metadata: { confidence: 0.85, category: 'content_optimization', actions: ['content_strategy', 'page_optimization'] }\n        },\n        default: {\n          content: \"I optimize your entire search presence! From keyword research to content strategy, technical SEO to competitor analysis, I ensure maximum organic visibility. Currently managing 92% SEO health score with continuous improvements. How can I boost your search performance?\",\n          metadata: { confidence: 0.83, category: 'seo_management', actions: ['holistic_optimization', 'performance_tracking'] }\n        }\n      },\n      SupplyChainAgent: {\n        supply: {\n          content: \"Supply chain is running efficiently! 96.2% on-time delivery rate with 47 suppliers across 32 active relationships. Top performer TechComponents Ltd maintains 98.5% delivery rate. I've optimized routes saving $12.4k/month and improved delivery times by 1.2 days average. Need supplier details?\",\n          metadata: { confidence: 0.93, category: 'supply_management', actions: ['supplier_optimization', 'delivery_tracking'] }\n        },\n        logistics: {\n          content: \"Logistics optimization is delivering results! Route optimization across 23 paths saves $12,450 monthly with 15% fuel efficiency gains. Warehouse operates at 87% space utilization with 99.7% pick accuracy. Three carriers handle different volumes with FastShip Express leading at 96.8% on-time rate.\",\n          metadata: { confidence: 0.89, category: 'logistics_optimization', actions: ['route_optimization', 'carrier_management'] }\n        },\n        delivery: {\n          content: \"Delivery performance is excellent! 96.2% on-time rate with 2.8 days average delivery time. Urban areas perform best at 1.9 days, while rural areas average 4.2 days. I'm piloting same-day delivery in 5 cities and testing drone delivery for remote areas. Want performance details by region?\",\n          metadata: { confidence: 0.86, category: 'delivery_optimization', actions: ['performance_tracking', 'innovation_testing'] }\n        },\n        default: {\n          content: \"I coordinate your entire supply chain for maximum efficiency! From supplier relationships to logistics optimization, delivery performance to cost reduction, I ensure smooth operations. Currently managing 47 suppliers with 96.2% performance. How can I optimize your supply chain?\",\n          metadata: { confidence: 0.81, category: 'supply_chain_management', actions: ['end_to_end_optimization', 'performance_monitoring'] }\n        }\n      }\n    };\n\n    const agentResponses = responses[type as keyof typeof responses];\n    \n    // Find the best matching response\n    for (const [key, response] of Object.entries(agentResponses)) {\n      if (key !== 'default' && lowerMessage.includes(key)) {\n        return response;\n      }\n    }\n    \n    return agentResponses.default;\n  };\n\n  const getAgentIcon = () => {\n    const icons = {\n      CustomerServiceAgent: ChatBubbleLeftRightIcon,\n      RecommendationAgent: SparklesIcon,\n      PricingAgent: ExclamationCircleIcon,\n      InventoryAgent: CheckCircleIcon,\n      DataAnalysisAgent: ChartBarIcon,\n      MarketingAgent: BoltIcon,\n      FinancialAnalystAgent: CurrencyDollarIcon,\n      SEOAgent: EyeIcon,\n      SupplyChainAgent: ArrowTrendingUpIcon\n    };\n    return icons[agentType] || CpuChipIcon;\n  };\n\n  const getAgentColor = () => {\n    const colors = {\n      CustomerServiceAgent: 'purple',\n      RecommendationAgent: 'orange',\n      PricingAgent: 'green',\n      InventoryAgent: 'blue',\n      DataAnalysisAgent: 'indigo',\n      MarketingAgent: 'pink',\n      FinancialAnalystAgent: 'emerald',\n      SEOAgent: 'cyan',\n      SupplyChainAgent: 'amber'\n    };\n    return colors[agentType] || 'gray';\n  };\n\n  const AgentIcon = getAgentIcon();\n  const agentColor = getAgentColor();\n\n  return (\n    <div \n      className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      onClick={onClose} // Click outside to close\n    >\n      <div \n        className=\"bg-dark-800 rounded-lg shadow-xl w-full max-w-2xl h-3/4 flex flex-col\"\n        onClick={(e) => e.stopPropagation()} // Prevent closing when clicking inside\n      >\n        {/* Header */}\n        <div className={`bg-${agentColor}-600 text-white p-4 rounded-t-lg flex items-center justify-between`}>\n          <div className=\"flex items-center space-x-3\">\n            <div className={`p-2 bg-${agentColor}-500 rounded-full`}>\n              <AgentIcon className=\"h-6 w-6\" />\n            </div>\n            <div>\n              <h3 className=\"font-semibold\">{agentName.replace('Agent', '')} Agent</h3>\n              <p className=\"text-sm opacity-90\">AI-Powered Assistant</p>\n            </div>\n          </div>\n          \n          <button\n            onClick={onClose}\n            className={`p-2 hover:bg-${agentColor}-700 rounded-full transition-colors bg-white bg-opacity-20 hover:bg-opacity-30`}\n            title=\"Close chat (ESC)\"\n          >\n            <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" strokeWidth={2}>\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* Messages */}\n        <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n          {messages.map((message) => (\n            <div\n              key={message.id}\n              className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}\n            >\n              <div className={`flex items-start space-x-2 max-w-3/4 ${\n                message.type === 'user' ? 'flex-row-reverse space-x-reverse' : ''\n              }`}>\n                {/* Avatar */}\n                <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${\n                  message.type === 'user' \n                    ? 'bg-gray-200' \n                    : `bg-${agentColor}-100`\n                }`}>\n                  {message.type === 'user' ? (\n                    <UserIcon className=\"h-4 w-4 text-gray-600\" />\n                  ) : (\n                    <AgentIcon className={`h-4 w-4 text-${agentColor}-600`} />\n                  )}\n                </div>\n\n                {/* Message Bubble */}\n                <div className={`rounded-lg p-3 ${\n                  message.type === 'user'\n                    ? 'bg-primary-600 text-white'\n                    : 'bg-dark-700 text-gray-100'\n                }`}>\n                  <p className=\"text-sm\">{message.content}</p>\n                  \n                  {/* Message Metadata */}\n                  {message.metadata && (\n                      <div className=\"mt-2 pt-2 border-t border-dark-600\">\n                      <div className=\"flex items-center justify-between text-xs text-gray-400\">\n                        <span>Confidence: {Math.round((message.metadata.confidence || 0) * 100)}%</span>\n                        <span className=\"capitalize\">{message.metadata.category}</span>\n                      </div>\n                      {message.metadata.actions && (\n                        <div className=\"mt-1 flex flex-wrap gap-1\">\n                          {message.metadata.actions.map((action: string, idx: number) => (\n                            <span\n                              key={idx}\n                              className={`inline-block px-2 py-1 text-xs rounded-full bg-${agentColor}-100 text-${agentColor}-700`}\n                            >\n                              {action.replace('_', ' ')}\n                            </span>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  )}\n                  \n                  <div className=\"flex items-center justify-between mt-2\">\n                    <span className=\"text-xs opacity-70\">\n                      {message.timestamp.toLocaleTimeString()}\n                    </span>\n                    {message.type === 'agent' && (\n                      <div className=\"flex items-center space-x-1\">\n                        <ClockIcon className=\"h-3 w-3 opacity-50\" />\n                        <span className=\"text-xs opacity-70\">AI Response</span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {/* Typing Indicator */}\n          {isTyping && (\n            <div className=\"flex justify-start\">\n              <div className=\"flex items-start space-x-2\">\n                <div className={`w-8 h-8 rounded-full bg-${agentColor}-100 flex items-center justify-center`}>\n                  <AgentIcon className={`h-4 w-4 text-${agentColor}-600`} />\n                </div>\n                <div className=\"bg-dark-700 rounded-lg p-3\">\n                  <div className=\"flex items-center space-x-2\">\n                    <LoadingSpinner size=\"sm\" />\n                    <span className=\"text-sm text-gray-300\">{typingMessage}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          <div ref={messagesEndRef} />\n        </div>\n\n        {/* Input */}\n        <div className=\"border-t border-dark-700 p-4\">\n          <div className=\"flex items-center space-x-2 mb-3\">\n            <input\n              type=\"text\"\n              value={inputMessage}\n              onChange={(e) => setInputMessage(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n              placeholder={`Ask the ${agentName.replace('Agent', '')} Agent anything...`}\n              className=\"flex-1 bg-dark-700 border border-dark-600 text-gray-100 placeholder-gray-400 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n              disabled={isTyping}\n            />\n            <button\n              onClick={handleSendMessage}\n              disabled={!inputMessage.trim() || isTyping}\n              className={`p-2 bg-${agentColor}-600 text-white rounded-lg hover:bg-${agentColor}-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors`}\n            >\n              <PaperAirplaneIcon className=\"h-5 w-5\" />\n            </button>\n            <button\n              onClick={onClose}\n              className=\"p-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\n              title=\"Close chat\"\n            >\n              <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n          \n          {/* Quick Actions */}\n          <div className=\"mt-3 flex flex-wrap gap-2\">\n            {agentType === 'CustomerServiceAgent' && (\n              <>\n                <button\n                  onClick={() => setInputMessage(\"I need help with my order status\")}\n                  className=\"px-3 py-1 text-xs bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition-colors\"\n                >\n                  Order Status\n                </button>\n                <button\n                  onClick={() => setInputMessage(\"How do I return an item?\")}\n                  className=\"px-3 py-1 text-xs bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 transition-colors\"\n                >\n                  Returns\n                </button>\n              </>\n            )}\n            {agentType === 'RecommendationAgent' && (\n              <>\n                <button\n                  onClick={() => setInputMessage(\"What products are trending right now?\")}\n                  className=\"px-3 py-1 text-xs bg-orange-100 text-orange-700 rounded-full hover:bg-orange-200 transition-colors\"\n                >\n                  Trending Products\n                </button>\n                <button\n                  onClick={() => setInputMessage(\"Can you recommend products for me?\")}\n                  className=\"px-3 py-1 text-xs bg-orange-100 text-orange-700 rounded-full hover:bg-orange-200 transition-colors\"\n                >\n                  Get Recommendations\n                </button>\n              </>\n            )}\n            {agentType === 'PricingAgent' && (\n              <>\n                <button\n                  onClick={() => setInputMessage(\"How are market conditions affecting pricing?\")}\n                  className=\"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-colors\"\n                >\n                  Market Analysis\n                </button>\n                <button\n                  onClick={() => setInputMessage(\"Can you optimize our pricing strategy?\")}\n                  className=\"px-3 py-1 text-xs bg-green-100 text-green-700 rounded-full hover:bg-green-200 transition-colors\"\n                >\n                  Price Optimization\n                </button>\n              </>\n            )}\n            {agentType === 'InventoryAgent' && (\n              <>\n                <button\n                  onClick={() => setInputMessage(\"What's our current stock status?\")}\n                  className=\"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors\"\n                >\n                  Stock Status\n                </button>\n                <button\n                  onClick={() => setInputMessage(\"Show me demand forecasting insights\")}\n                  className=\"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors\"\n                >\n                  Demand Forecast\n                </button>\n              </>\n            )}\n          </div>\n          \n          {/* Close Instructions */}\n          <div className=\"mt-2 text-center\">\n            <p className=\"text-xs text-gray-400\">\n              Press <kbd className=\"px-1 py-0.5 bg-dark-700 text-gray-300 rounded text-xs\">ESC</kbd> or click outside to close\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AgentChat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}